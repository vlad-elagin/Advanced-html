$color-pb-green = rgba(lighten($color-green, 15%), 0.7)
$color-pb-green-shadow = rgba($color-pb-green, 0.3)
$color-pb-green-progress = lighten($color-green, 90%)

$color-pb-red = rgba(lighten($color-red, 15%), 0.7)
$color-pb-red-shadow = rgba($color-pb-red, 0.3)
$color-pb-red-progress = lighten($color-red, 90%)

$color-pb-yellow = rgba(lighten($color-yellow, 15%), 0.7)
$color-pb-yellow-shadow = rgba($color-pb-yellow, 0.3)
$color-pb-yellow-progress = lighten($color-yellow, 90%)

.progress-bar

  position absolute
  left 50%
  top 50%
  transform translate(-50%, -50%)

  &-background
    transform stroke-width .5s ease
    stroke-width 1px
    fill none

  &-progress
    // rotate, so stroke will start from upper top point
    transform rotate(-90deg)
    transform-origin center

    stroke-width 0px
    fill none

    stroke-dasharray 1000px

    animation-duration 1s
    animation-timing-function ease
    animation-fill-mode both
    animation-delay .5s

  &-shadow
    stroke-width 0px
    transform stroke-width .3s ease .5s
    fill none

  // colors
  &.color-green
    .progress-bar-background
      stroke $color-pb-green
    .progress-bar-shadow
      stroke $color-pb-green-shadow
    .progress-bar-progress
      stroke $color-pb-green-progress

  &.color-red
    .progress-bar-background
      stroke $color-pb-red
    .progress-bar-shadow
      stroke $color-pb-red-shadow
    .progress-bar-progress
      stroke $color-pb-red-progress

  &.color-yellow
    .progress-bar-background
      stroke $color-pb-yellow
    .progress-bar-shadow
      stroke $color-pb-yellow-shadow
    .progress-bar-progress
      stroke $color-pb-yellow-progress

.product-wrapper.active
  .progress-bar
    display block
    &-background
      stroke-width 15px
    &-progress
      stroke-width 15px
    &-shadow
      stroke-width 10px

  &.color-yellow .progress-bar-progress
    @keyframes progress-yellow
      from
        stroke-dashoffset 1000px
      to
        stroke-dashoffset 830px
    animation-name progress-yellow

  &.color-green .progress-bar-progress
    @keyframes progress-green
      from
        stroke-dashoffset 1000px
      to
        stroke-dashoffset 550px
    animation-name progress-green

  &.color-red .progress-bar-progress
    @keyframes progress-red
      from
        stroke-dashoffset 1000px
      to
        stroke-dashoffset 350px
    animation-name progress-red
